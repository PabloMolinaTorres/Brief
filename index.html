<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Brief de Postproducción</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * {
            box-sizing: border-box;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }
        body {
            margin: 0;
            padding: 0;
            background: #f4f8f2;
            color: #333;
        }
        header {
            background: #0b3b24;     /* verde falabella */
            color: #ffffff;          /* <-- TEXTO BLANCO */
            padding: 16px 24px;
        }
        header h1 {
            margin: 0;
            font-size: 20px;
        }
        header p {
            margin: 4px 0 0;
            font-size: 13px;
            opacity: 0.95;
        }
        main {
            max-width: 1100px;
            margin: 24px auto;
            padding: 0 16px 40px;
        }
        .card {
            background: #fff;
            border-radius: 10px;
            padding: 20px 18px;
            margin-bottom: 16px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.06);
            border: 1px solid #e3eddd;
        }
        .card h2 {
            margin: 0 0 12px;
            font-size: 16px;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
        }
        .card h2 span.label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #7a8a76;
        }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
        }
        .option {
            border-radius: 8px;
            border: 1px solid #d5e3cf;
            padding: 10px;
            position: relative;
            cursor: pointer;
            background: #fafdf8;
            transition: all 0.15s ease;
            font-size: 13px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .option input {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }
        .option img {
            width: 100%;
            border-radius: 6px;
            object-fit: cover;
            border: 1px solid #e1ebdd;
        }
        .option.selected {
            border-color: #8FCA00;
            background: #e9f8d3;
            box-shadow: 0 0 0 1px #8FCA00;
        }
        .custom-input {
            margin-top: 4px;
            font-size: 12px;
        }
        .custom-input label {
            display: block;
            margin-bottom: 3px;
        }
        .custom-input input {
            width: 100%;
            padding: 6px 8px;
            border-radius: 6px;
            border: 1px solid #c4d2be;
        }
        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 12px;
        }
        textarea {
            width:100%;
            border-radius:8px;
            border:1px solid #c4d2be;
            padding:8px;
            font-size:13px;
            resize: vertical;
        }
        button.primary {
            background: #8FCA00;
            color: #fff;
            border: none;
            border-radius: 999px;
            padding: 10px 22px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        #resumen {
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
            background: #111;
            color: #e2ffe9;
            padding: 12px;
            border-radius: 8px;
            margin-top: 8px;
            max-height: 260px;
            overflow: auto;
            display:none;
        }
    </style>
</head>
<body>

<header>
    <h1>Brief de Postproducción</h1>
    <p>Selecciona las configuraciones. Al finalizar se genera un resumen listo para enviar al equipo de Falabella.</p>
</header>

<main>

    <!-- Datos del proveedor -->
    <section class="card">
        <h2>Datos del proveedor <span class="label">Identificación</span></h2>
        <div class="meta-grid">
            <div>
                <label>Nombre proveedor</label>
                <input type="text" id="proveedor" placeholder="Ej: Estudio XYZ">
            </div>
            <div>
                <label>Email</label>
                <input type="email" id="emailProveedor" placeholder="proveedor@mail.com">
            </div>
        </div>
    </section>

    <!-- SOMBRA -->
    <section class="card">
        <h2>Sombra <span class="label">Opacidad</span></h2>
        <div class="options-grid" data-group="sombra">
            
            <label class="option">
                <input type="radio" name="sombra" value="Sin sombra">
                <img src="img/sombra-sin.png">
                <strong>Sin sombra</strong>
            </label>

            <label class="option">
                <input type="radio" name="sombra" value="25%">
                <img src="img/sombra-25.png">
                <strong>25%</strong>
            </label>

            <label class="option">
                <input type="radio" name="sombra" value="50%">
                <img src="img/sombra-50.png">
                <strong>50%</strong>
            </label>

            <label class="option">
                <input type="radio" name="sombra" value="75%">
                <img src="img/sombra-75.png">
                <strong>75%</strong>
            </label>

            <label class="option">
                <input type="radio" name="sombra" value="100%">
                <img src="img/sombra-100.png">
                <strong>100%</strong>
            </label>

            <!-- PERSONALIZADO + CAMPO DE TEXTO -->
            <label class="option">
                <input type="radio" name="sombra" value="Personalizado">
                <img src="img/sombra-custom.png">
                <strong>Personalizado</strong>
                <div class="custom-input">
                    <label>Indica valores</label>
                    <input id="sombraCustom" type="text" placeholder="Ej: 32%, sombra dura a izquierda">
                </div>
            </label>
        </div>
    </section>

    <!-- FONDO -->
    <section class="card">
        <h2>Fondo <span class="label">Color</span></h2>
        <div class="options-grid" data-group="fondo">

            <label class="option">
                <input type="radio" name="fondo" value="Blanco #FFFFFF">
                <img src="img/fondo-blanco.png">
                <strong>Blanco #FFFFFF</strong>
            </label>

            <label class="option">
                <input type="radio" name="fondo" value="Gris #ECECEC">
                <img src="img/fondo-gris-ec.png">
                <strong>Gris #ECECEC</strong>
            </label>

            <label class="option">
                <input type="radio" name="fondo" value="Gris claro #F7F7F7">
                <img src="img/fondo-gris-f7.png">
                <strong>Gris claro #F7F7F7</strong>
            </label>

            <!-- PERSONALIZADO -->
            <label class="option">
                <input type="radio" name="fondo" value="Personalizado">
                <img src="img/fondo-custom.png">
                <strong>Personalizado</strong>
                <div class="custom-input">
                    <label>Color o descripción</label>
                    <input id="fondoCustom" type="text" placeholder="Ej: #D9D9D9 o degradado suave">
                </div>
            </label>

        </div>
    </section>

    <!-- ENCUADRE -->
    <section class="card">
        <h2>Encuadre <span class="label">Composición</span></h2>
        <div class="options-grid" data-group="centro">

            <label class="option">
                <input type="radio" name="centro" value="Arriba">
                <img src="img/encuadre-arriba.png">
                <strong>Arriba</strong>
            </label>

            <label class="option">
                <input type="radio" name="centro" value="Centrado">
                <img src="img/encuadre-centro.png">
                <strong>Centrado</strong>
            </label>

            <label class="option">
                <input type="radio" name="centro" value="Abajo">
                <img src="img/encuadre-abajo.png">
                <strong>Abajo</strong>
            </label>

            <!-- PERSONALIZADO -->
            <label class="option">
                <input type="radio" name="centro" value="Personalizado">
                <img src="img/encuadre-custom.png">
                <strong>Personalizado</strong>
                <div class="custom-input">
                    <label>Indicar composición</label>
                    <input id="centroCustom" type="text" placeholder="Ej: tercio superior, alineado izquierda">
                </div>
            </label>

        </div>
    </section>

    <!-- DIMENSIONES -->
    <section class="card">
        <h2>Dimensiones <span class="label">Tamaño final</span></h2>
        <div class="options-grid" data-group="dimensiones">

            <label class="option">
                <input type="radio" name="dimensiones" value="Falabella 1500x1500 px">
                <img src="img/dim-falabella-1500x1500.png">
                <strong>Falabella 1500 x 1500</strong>
            </label>

            <label class="option">
                <input type="radio" name="dimensiones" value="Vertical 1000x1500 px">
                <img src="img/dim-vertical-1000x1500.png">
                <strong>Vertical 1000 x 1500</strong>
            </label>

            <label class="option">
                <input type="radio" name="dimensiones" value="Horizontal 1500x1000 px">
                <img src="img/dim-horizontal-1500x1000.png">
                <strong>Horizontal 1500 x 1000</strong>
            </label>

            <!-- PERSONALIZADO -->
            <label class="option">
                <input type="radio" name="dimensiones" value="Personalizado">
                <img src="img/dim-custom.png">
                <strong>Personalizado</strong>
                <div class="custom-input">
                    <label>Ancho x alto</label>
                    <input id="dimensionesCustom" type="text" placeholder="Ej: 2000 x 1333 px">
                </div>
            </label>

        </div>
    </section>

    <!-- BORDE -->
    <section class="card">
        <h2>Borde <span class="label">Margen</span></h2>
        <div class="options-grid" data-group="borde">

            <label class="option">
                <input type="radio" name="borde" value="Sin borde">
                <img src="img/borde-sin.png">
                <strong>Sin borde</strong>
            </label>

            <label class="option">
                <input type="radio" name="borde" value="Borde 3%">
                <img src="img/borde-3.png">
                <strong>3%</strong>
            </label>

            <label class="option">
                <input type="radio" name="borde" value="Borde 5%">
                <img src="img/borde-5.png">
                <strong>5%</strong>
            </label>

            <!-- PERSONALIZADO -->
            <label class="option">
                <input type="radio" name="borde" value="Personalizado">
                <img src="img/borde-custom.png">
                <strong>Personalizado</strong>
                <div class="custom-input">
                    <label>Detalle margen</label>
                    <input id="bordeCustom" type="text" placeholder="Ej: 4% arriba, 6% laterales">
                </div>
            </label>

        </div>
    </section>

    <!-- OBSERVACIONES -->
    <section class="card">
        <h2>Observaciones</h2>
        <textarea id="observaciones" rows="4"></textarea>
    </section>

    <!-- FINALIZAR -->
    <section class="card">
        <button class="primary" id="btnFinalizar">Finalizar brief</button>
        <div id="resumen"></div>
    </section>

</main>

<script>
    const DESTINO = "malejibarra@falabella.cl,vcastillog@falabella.cl,cipgallegoo@falabella.cl";

    document.querySelectorAll(".options-grid").forEach(group => {
        group.addEventListener("click", e => {
            const option = e.target.closest(".option");
            if(!option) return;
            group.querySelectorAll(".option").forEach(o => o.classList.remove("selected"));
            option.classList.add("selected");
            option.querySelector("input[type=radio]").checked = true;
        });
    });

    function personalizado(name, inputId) {
        const r = document.querySelector(`input[name="${name}"]:checked`);
        if(!r) return "No definido";
        if(r.value === "Personalizado") {
            return "Personalizado: " + (document.getElementById(inputId).value || "(sin detalle)");
        }
        return r.value;
    }

    document.getElementById("btnFinalizar").onclick = () => {

        const proveedor = document.getElementById("proveedor").value || "(sin nombre)";
        const emailProv = document.getElementById("emailProveedor").value || "(sin email)";

        const sombra = personalizado("sombra","sombraCustom");
        const fondo = personalizado("fondo","fondoCustom");
        const centro = personalizado("centro","centroCustom");
        const dimensiones = personalizado("dimensiones","dimensionesCustom");
        const borde = personalizado("borde","bordeCustom");
        const obs = document.getElementById("observaciones").value || "(sin observaciones)";

        const texto =
`BRIEF DE POSTPRODUCCIÓN

Proveedor: ${proveedor}
Email: ${emailProv}

Sombra: ${sombra}
Fondo: ${fondo}
Encuadre: ${centro}
Dimensiones: ${dimensiones}
Borde: ${borde}

Observaciones:
${obs}
`;

        const resumen = document.getElementById("resumen");
        resumen.style.display = "block";
        resumen.textContent = texto;

        const subject = encodeURIComponent(`Brief postproducción – ${proveedor}`);
        const body = encodeURIComponent(texto);
        window.location.href = `mailto:${DESTINO}?subject=${subject}&body=${body}`;
    };
</script>

</body>
</html>
